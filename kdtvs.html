<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>26ë…„ KDT ìë¶€ë‹´ ë¹„êµ ê³„ì‚°ê¸°</title>
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #475569;
            --bg: #f8fafc;
            --card: #ffffff;
            --border: #e2e8f0;
            --red: #dc2626;
            --green: #16a34a;
            --orange: #ea580c;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Pretendard', -apple-system, sans-serif; }
        
        body { background-color: var(--bg); color: #1e293b; line-height: 1.5; padding: 20px; }
        
        .container { max-width: 1200px; margin: 0 auto; }
        
        header { text-align: center; margin-bottom: 30px; }
        header h1 { font-size: 1.8rem; color: #0f172a; margin-bottom: 8px; font-weight: 800; }
        header p { color: var(--secondary); font-size: 0.95rem; }

        /* ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ */
        .control-panel { 
            background: var(--card); padding: 25px; border-radius: 16px; 
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); margin-bottom: 25px; 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
            gap: 20px; align-items: start; border: 1px solid var(--border);
        }
        
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 0.9rem; color: var(--secondary); }
        .form-group select, .form-group input { 
            width: 100%; padding: 12px 15px; border: 1px solid var(--border); 
            border-radius: 8px; font-size: 0.95rem; transition: 0.2s; background: #fff;
        }
        .form-group input:read-only { background-color: #f1f5f9; color: #64748b; cursor: not-allowed; }
        .form-group select:focus, .form-group input:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 0 3px rgba(37,99,235,0.1); }
        
        .btn-calc { 
            grid-column: 1 / -1; background: var(--primary); color: white; border: none; 
            padding: 14px; border-radius: 8px; font-size: 1.05rem; font-weight: 700; 
            cursor: pointer; transition: 0.2s; margin-top: 10px;
        }
        .btn-calc:hover { background: #1d4ed8; transform: translateY(-1px); }

        /* ê²°ê³¼ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        #resultArea { display: none; animation: slideUp 0.4s ease-out; }

        .result-section { margin-bottom: 40px; }
        .result-title { 
            font-size: 1.2rem; font-weight: 700; color: #334155; margin-bottom: 12px; 
            border-left: 5px solid var(--primary); padding-left: 10px; 
            display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;
        }
        .result-tag { font-size: 0.8rem; font-weight: 400; color: #64748b; background: #f1f5f9; padding: 4px 8px; border-radius: 4px; border: 1px solid #e2e8f0; }

        .info-box { 
            background: #fff7ed; border-left: 5px solid var(--orange); padding: 16px; 
            border-radius: 8px; margin-bottom: 20px; font-size: 0.95rem; color: #9a3412; 
            line-height: 1.6;
        }

        .table-wrap { overflow-x: auto; background: var(--card); border-radius: 16px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05); border: 1px solid var(--border); }
        table { width: 100%; border-collapse: collapse; white-space: nowrap; }
        
        th, td { padding: 14px 16px; text-align: center; border-bottom: 1px solid var(--border); font-size: 0.95rem; }
        th { background: #f8fafc; font-weight: 700; color: #334155; border-right: 1px solid var(--border); }
        td { border-right: 1px solid var(--border); vertical-align: middle; }
        th:last-child, td:last-child { border-right: none; }
        
        /* ì»¬ëŸ¼ ê°•ì¡° */
        .col-25 { background-color: #f1f5f9; color: #475569; }
        .col-26-main { background-color: #ecfdf5; color: #047857; }
        
        /* í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .txt-primary { color: var(--primary); font-weight: 700; }
        .txt-red { color: var(--red); font-weight: 700; }
        .txt-green { color: var(--green); font-weight: 700; }
        .sub-text { font-size: 0.8em; color: #64748b; margin-top: 4px; display: block; }
        
        .final-row { background-color: #f8fafc; border-top: 2px solid #cbd5e1; font-weight: 700; }
        .badge { display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 0.75rem; background: #e2e8f0; margin-left: 4px; vertical-align: middle; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>2025-2026 KDT ì„¸ë¶€ìœ í˜• ë° ë¹„êµ ë¶„ì„ê¸°</h1>
        <p>ì„ íƒí•˜ì‹  K-ë””ì§€í„¸ ìœ í˜•ê³¼ ë™ì¼ ê¸°ì¤€ë‹¨ê°€ ì ìš© ì‹œ ì‚°ëŒ€íŠ¹Â·êµ­ê¸° í˜œíƒ ë¹„êµ</p>
    </header>

    <div class="control-panel">
        <div class="form-group">
            <label>â‘  ë¶„ì„í•  KDT ì„¸ë¶€ ìœ í˜• ì„ íƒ</label>
            <select id="courseType" onchange="calculateAppliedPrice()">
                <option value="kdt_singisul">K-ë””ì§€í„¸ (ì‹ ê¸°ìˆ ) - ë‹¨ê°€ 130%</option>
                <option value="kdt_seondo">K-ë””ì§€í„¸ (ì„ ë„ê¸°ì—…) - 18,150ì›</option>
                <option value="kdt_cheomdan">K-ë””ì§€í„¸ (ì²¨ë‹¨ì‚°ì—…) - 18,150ì›</option>
                <option value="kdt_dangi">K-ë””ì§€í„¸ (ë‹¨ê¸°ì‹¬í™”) - ë‹¨ê°€ 200%</option>
            </select>
        </div>

        <div class="form-group">
            <label>â‘¡ ê¸°ì¤€ í›ˆë ¨ ë‹¨ê°€ (ì›)</label>
            <input type="number" id="inputPrice" placeholder="ìŠ¹ì¸ ë‹¨ê°€ ì…ë ¥" value="7290" oninput="calculateAppliedPrice()">
            <span class="sub-text" id="appliedPriceText">ì ìš© ë‹¨ê°€: 9,477ì› (130%)</span>
        </div>

        <div class="form-group">
            <label>â‘¢ ì´ í›ˆë ¨ì‹œê°„ (ì‹œê°„)</label>
            <input type="number" id="hours" placeholder="ì´ ì‹œê°„ ì…ë ¥" value="480">
        </div>

        <button class="btn-calc" onclick="analyzeAll()">í†µí•© ë¶„ì„ ì‹¤í–‰</button>
    </div>

    <div id="resultArea">
        <div class="info-box" id="analysisMsg"></div>

        <!-- 1. ì„ íƒí•œ KDT ìœ í˜• ê²°ê³¼ -->
        <div class="result-section">
            <div class="result-title">
                1. [ì„ íƒ] K-ë””ì§€í„¸ íŠ¸ë ˆì´ë‹ ë¶„ì„ ê²°ê³¼
                <span class="result-tag" id="selectedTitle">K-ë””ì§€í„¸ (ì‹ ê¸°ìˆ )</span>
            </div>
            <div class="table-wrap" id="mainTable"></div>
        </div>

        <!-- 2. ì‚°ëŒ€íŠ¹ ë¹„êµ (ë‹¨ê°€ 130% ì ìš©) -->
        <div class="result-section">
            <div class="result-title">
                2. [ë¹„êµ] ì‚°ì—…êµ¬ì¡°ë³€í™”ëŒ€ì‘(ì‚°ëŒ€íŠ¹)
                <span class="result-tag">ê¸°ì¤€ë‹¨ê°€ 130% ì ìš©</span>
            </div>
            <div class="table-wrap" id="sdtTable"></div>
        </div>

        <!-- 3. êµ­ê¸° ë¹„êµ (ë‹¨ê°€ 100% ì ìš©) -->
        <div class="result-section">
            <div class="result-title">
                3. [ë¹„êµ] êµ­ê°€ê¸°ê°„ì „ëµì‚°ì—…(êµ­ê¸°)
                <span class="result-tag">ê¸°ì¤€ë‹¨ê°€ 100% ì ìš©</span>
            </div>
            <div class="table-wrap" id="gukTable"></div>
        </div>

        <p style="text-align: left; margin-top: 10px; color: #64748b; font-size: 1.00rem;">
            * <strong>2026ë…„ ìë¹„ë¶€ë‹´ê¸ˆ (êµ¬ê°„ë³„ ì •ì•¡ì œ):</strong><br>
            &emsp;- 300ë§Œì› ì´í•˜: 10% (ì›ë‹¨ìœ„ ì ˆì‚­)<br>
            &emsp;- 300ë§Œì› ì´ˆê³¼ ~ 600ë§Œì› ì´í•˜: 30ë§Œì›<br>
            &emsp;- 600ë§Œì› ì´ˆê³¼ ~ 1,200ë§Œì› ì´í•˜: 40ë§Œì›<br>
            &emsp;- 1,200ë§Œì› ì´ˆê³¼ ~ 1,800ë§Œì› ì´í•˜: 50ë§Œì›<br>
            &emsp;- 1,800ë§Œì› ì´ˆê³¼: 60ë§Œì›<br>
            &emsp;* <strong>íŠ¹ë³„í›ˆë ¨ìˆ˜ë‹¹:</strong> 2026ë…„ì€ 350ì‹œê°„ ì´ìƒ í›ˆë ¨ ì‹œì—ë§Œ ì§€ê¸‰ë©ë‹ˆë‹¤.
        </p>
    </div>
</div>

<script>
    let finalAppliedPrice = 0;

    function format(num) {
        return num.toLocaleString('ko-KR') + 'ì›';
    }

    // ì„ íƒ ìœ í˜• ë‹¨ê°€ ê³„ì‚° ë° í‘œì‹œ
    function calculateAppliedPrice() {
        const courseType = document.getElementById('courseType').value;
        const inputPrice = Number(document.getElementById('inputPrice').value) || 0;
        let calculated = inputPrice;
        let infoText = "";

        switch (courseType) {
            case 'kdt_seondo':
            case 'kdt_cheomdan':
                calculated = 18150;
                infoText = "ê³ ì • ë‹¨ê°€";
                break;
            case 'kdt_singisul':
                calculated = Math.floor(inputPrice * 1.3);
                infoText = "ì…ë ¥ê°’ì˜ 130%";
                break;
            case 'kdt_dangi':
                calculated = Math.floor(inputPrice * 2.0);
                infoText = "ì…ë ¥ê°’ì˜ 200%";
                break;
            default:
                calculated = inputPrice;
                infoText = "ì…ë ¥ê°’ ì ìš©";
                break;
        }
        
        finalAppliedPrice = calculated;
        document.getElementById('appliedPriceText').innerText = `KDT ì ìš© ë‹¨ê°€: ${format(finalAppliedPrice)} (${infoText})`;
    }

    // ì´ˆê¸° ì‹¤í–‰
    calculateAppliedPrice();

    // í…Œì´ë¸” ìƒì„± í•¨ìˆ˜
    // bizType: 'kdt'(KDTìœ í˜•), 'sdt'(ì‚°ëŒ€íŠ¹), 'guk'(êµ­ê¸°)
    function generateTableHTML(bizType, appliedPrice, hours) {
        const estimatedMonths = hours / 160;
        const totalTrainCost = appliedPrice * hours;

        // --- 2025ë…„ ë¡œì§ ---
        const selfPay25 = 0; // 25ë…„ ìë¶€ë‹´ 0ì›
        const baseStipend25 = 116000;
        let specialStipend25 = 0;
        
        // 2025ë…„ ê¸°ì¤€: êµ­ê¸°(guk)ëŠ” íŠ¹ë³„í›ˆë ¨ìˆ˜ë‹¹ ì—†ìŒ(0ì›), KDTì™€ ì‚°ëŒ€íŠ¹ì€ 20ë§Œì›
        if (bizType === 'guk') {
            specialStipend25 = 0;
        } else {
            specialStipend25 = 200000;
        }

        const monthTotal25 = baseStipend25 + specialStipend25;
        const totalBenefit25 = (monthTotal25 * estimatedMonths) - selfPay25;

        // --- 2026ë…„ ë¡œì§ (ìˆ˜ì •: êµ¬ê°„ë³„ ì •ì•¡ ìë¹„ë¶€ë‹´ê¸ˆ) ---
        let selfPay26 = 0;
        let selfPayInfo = "";

        if (totalTrainCost <= 3000000) {
            // 300ë§Œì› ì´í•˜: 10%, ì›ë‹¨ìœ„ ì ˆì‚­ (floor)
            selfPay26 = Math.floor(totalTrainCost * 0.1); 
            selfPayInfo = "10% (ì›ë‹¨ìœ„ ì ˆì‚­)";
        } else if (totalTrainCost <= 6000000) {
            selfPay26 = 300000;
            selfPayInfo = "ì •ì•¡ 30ë§Œì›";
        } else if (totalTrainCost <= 12000000) {
            selfPay26 = 400000;
            selfPayInfo = "ì •ì•¡ 40ë§Œì›";
        } else if (totalTrainCost <= 18000000) {
            selfPay26 = 500000;
            selfPayInfo = "ì •ì•¡ 50ë§Œì›";
        } else {
            // 1800ë§Œì› ì´ˆê³¼
            selfPay26 = 600000;
            selfPayInfo = "ì •ì•¡ 60ë§Œì›";
        }

        // ìë¶€ë‹´ ë¹„ìœ¨ ê³„ì‚° (í‘œì‹œìš©)
        const selfPayRatio = totalTrainCost > 0 ? ((selfPay26 / totalTrainCost) * 100).toFixed(1) : 0;

        const baseStipend26 = 200000;
        let spSeoul = 0, spNon = 0, spDec = 0;

        // 350ì‹œê°„ ì´ìƒ ì‹œ íŠ¹ë³„ìˆ˜ë‹¹ ì§€ê¸‰
        if (hours >= 350) {
            spSeoul = 100000;
            spNon = 200000;
            spDec = 300000;
        }

        const monthTotalSeoul = baseStipend26 + spSeoul;
        const monthTotalNon = baseStipend26 + spNon;
        const monthTotalDec = baseStipend26 + spDec;

        const netSeoul = (monthTotalSeoul * estimatedMonths) - selfPay26;
        const netNon = (monthTotalNon * estimatedMonths) - selfPay26;
        const netDec = (monthTotalDec * estimatedMonths) - selfPay26;

        const diffSeoul = netSeoul - totalBenefit25;
        const diffNon = netNon - totalBenefit25;
        const diffDec = netDec - totalBenefit25;

        // 25ë…„ íŠ¹ë³„ìˆ˜ë‹¹ í…ìŠ¤íŠ¸ (ì§€ì› ì—¬ë¶€ í‘œì‹œ)
        let specialStipend25Text = format(specialStipend25);
        if (bizType === 'guk') {
            specialStipend25Text += '<br><span class="sub-text">(25ë…„ ë¯¸ì§€ì›)</span>';
        } else {
            specialStipend25Text += '<br><span class="sub-text">(25ë…„ ì§€ì›)</span>';
        }

        return `
            <table>
                <thead>
                    <tr>
                        <th rowspan="2" style="width:140px;">êµ¬ë¶„</th>
                        <th rowspan="2" class="col-25">2025ë…„ í˜„í–‰<br><span style="font-weight:400; font-size:0.85em;">(ìë¶€ë‹´ 0ì›)</span></th>
                        <th colspan="3" class="col-26-main">2026ë…„ ê°œì • (ì§€ì—­ë³„ ì°¨ë“±)</th>
                    </tr>
                    <tr>
                        <th style="background:#f0fdf4;">ì„œìš¸/ìˆ˜ë„ê¶Œ</th>
                        <th style="background:#f0fdf4;">ë¹„ìˆ˜ë„ê¶Œ</th>
                        <th style="background:#f0fdf4;">ì¸êµ¬ê°ì†Œì§€ì—­</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="text-align:left;"><strong>ì´ í›ˆë ¨ë¹„</strong><br><span class="sub-text">ë‹¨ê°€: ${format(appliedPrice)}</span></td>
                        <td colspan="4" style="background:#f1f5f9; font-weight:700; color:#334155;">${format(totalTrainCost)}</td>
                    </tr>
                    <tr>
                        <td style="text-align:left;"><strong>ìë¹„ë¶€ë‹´ê¸ˆ</strong><br><span class="sub-text">ì‹¤ì œ ë‚©ë¶€ì•¡</span></td>
                        <td><span class="txt-primary">0ì›</span><br><span class="badge">0%</span></td>
                        <td colspan="3" style="border-left:2px solid #22c55e;">
                            <span class="txt-red">${format(selfPay26)}</span><br>
                            <span class="badge" style="background:#fee2e2; color:#991b1b;">${selfPayInfo} (${selfPayRatio}%)</span>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align:left;">[ì›”] í›ˆë ¨ì¥ë ¤ê¸ˆ<br><span class="sub-text">ê¸°ë³¸ ìˆ˜ë‹¹</span></td>
                        <td>${format(baseStipend25)}</td>
                        <td colspan="3" style="color:#16a34a; font-weight:700;">${format(baseStipend26)} <span class="badge">ì¸ìƒ</span></td>
                    </tr>
                    <tr>
                        <td style="text-align:left;">[ì›”] íŠ¹ë³„í›ˆë ¨ìˆ˜ë‹¹<br><span class="sub-text">${hours < 350 ? '350ì‹œê°„ ë¯¸ë§Œ ë¯¸ì§€ê¸‰' : 'ì§€ì—­ë³„ ì°¨ë“±'}</span></td>
                        <td>${specialStipend25Text}</td>
                        <td>${format(spSeoul)}</td>
                        <td>${format(spNon)}</td>
                        <td>${format(spDec)}</td>
                    </tr>
                    <tr style="background:#fff7ed;">
                        <td style="text-align:left;"><strong>ì›” ìˆ˜ë ¹ì•¡ í•©ê³„</strong></td>
                        <td><strong>${format(monthTotal25)}</strong></td>
                        <td><strong>${format(monthTotalSeoul)}</strong></td>
                        <td><strong>${format(monthTotalNon)}</strong></td>
                        <td><strong>${format(monthTotalDec)}</strong></td>
                    </tr>
                    <tr class="final-row">
                        <td style="text-align:left;">ìµœì¢… í˜œíƒ ë¹„êµ<br><span class="sub-text">ì´ìˆ˜ë ¹ì•¡ - ìë¶€ë‹´</span></td>
                        <td style="color:#2563eb;">${format(Math.floor(totalBenefit25))}</td>
                        <td>${format(Math.floor(netSeoul))}<br><span class="${diffSeoul >= 0 ? 'txt-green' : 'txt-red'}" style="font-size:0.8em;">(${diffSeoul > 0 ? '+' : ''}${format(Math.floor(diffSeoul))})</span></td>
                        <td>${format(Math.floor(netNon))}<br><span class="${diffNon >= 0 ? 'txt-green' : 'txt-red'}" style="font-size:0.8em;">(${diffNon > 0 ? '+' : ''}${format(Math.floor(diffNon))})</span></td>
                        <td>${format(Math.floor(netDec))}<br><span class="${diffDec >= 0 ? 'txt-green' : 'txt-red'}" style="font-size:0.8em;">(${diffDec > 0 ? '+' : ''}${format(Math.floor(diffDec))})</span></td>
                    </tr>
                </tbody>
            </table>
        `;
    }

    function analyzeAll() {
        // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸° ë° KDT ë‹¨ê°€ ì¬ê³„ì‚°
        calculateAppliedPrice();
        
        const hours = Number(document.getElementById('hours').value);
        const inputPrice = Number(document.getElementById('inputPrice').value) || 0;
        const selectedType = document.getElementById('courseType');
        const selectedText = selectedType.options[selectedType.selectedIndex].text;

        if (hours <= 0) {
            alert("í›ˆë ¨ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
        }

        // 1. ì„ íƒí•œ KDT ê³¼ì • í…Œì´ë¸” (finalAppliedPrice ì‚¬ìš©)
        document.getElementById('selectedTitle').innerText = selectedText;
        document.getElementById('mainTable').innerHTML = generateTableHTML('kdt', finalAppliedPrice, hours);

        // 2. ì‚°ëŒ€íŠ¹ ë¹„êµ í…Œì´ë¸” (ì…ë ¥ ë‹¨ê°€ * 130%)
        // ì‚°ëŒ€íŠ¹ì€ 25ë…„ì—ë„ íŠ¹ë³„ìˆ˜ë‹¹ 20ë§Œì› ì§€ì›, 26ë…„ì—ëŠ” ê¸°ì¤€ë‹¨ê°€ 130% ì ìš©í•˜ì—¬ ìë¶€ë‹´ ì‚°ì¶œ
        const sdtPrice = Math.floor(inputPrice * 1.3);
        document.getElementById('sdtTable').innerHTML = generateTableHTML('sdt', sdtPrice, hours);

        // 3. êµ­ê¸° ë¹„êµ í…Œì´ë¸” (ì…ë ¥ ë‹¨ê°€ * 100%)
        // êµ­ê¸°ëŠ” 25ë…„ì— íŠ¹ë³„ìˆ˜ë‹¹ 0ì›, 26ë…„ì— ê¸°ì¤€ë‹¨ê°€ 100% ì ìš©í•˜ì—¬ ìë¶€ë‹´ ì‚°ì¶œ
        document.getElementById('gukTable').innerHTML = generateTableHTML('guk', inputPrice, hours);

        // ë©”ì‹œì§€ ì²˜ë¦¬
        const msgBox = document.getElementById('analysisMsg');
        if (hours < 350) {
            msgBox.innerHTML = `âš ï¸ <strong>í›ˆë ¨ì‹œê°„ ë¶€ì¡±(350ì‹œê°„ ë¯¸ë§Œ):</strong> 2026ë…„ íŠ¹ë³„í›ˆë ¨ìˆ˜ë‹¹ ì§€ê¸‰ ê¸°ì¤€(350ì‹œê°„ ì´ìƒ)ì— ë¯¸ë‹¬í•˜ì—¬, 2025ë…„ ëŒ€ë¹„ í˜œíƒì´ ê°ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
        } else {
            msgBox.innerHTML = `ğŸ’¡ <strong>ë¶„ì„ ì™„ë£Œ:</strong> 
            ì„ íƒí•˜ì‹  <strong>${selectedText}</strong> ê²°ê³¼ì™€ ë”ë¶ˆì–´, ë™ì¼í•œ ê¸°ì¤€ë‹¨ê°€ ì…ë ¥ ì‹œ 
            <strong>ì‚°ëŒ€íŠ¹(130% ë‹¨ê°€)</strong> ë° <strong>êµ­ê¸°(100% ë‹¨ê°€)</strong> í›ˆë ¨ì˜ í˜œíƒ ë³€í™”ë¥¼ í•˜ë‹¨ì—ì„œ ë¹„êµ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
        }

        document.getElementById('resultArea').style.display = 'block';
    }
</script>

</body>
</html>
